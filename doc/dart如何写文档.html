<html>
  <head> </head>
  <body>
    <div class="content">
      <nav id="subnav">
        <ul>
          <li class="previous">
            <a href="/guides/language/effective-dart/style"
              >⟨&nbsp;&nbsp;代码风格</a
            >
          </li>
          <li class="next">
            <a href="/guides/language/effective-dart/usage"
              >用法示例&nbsp;&nbsp;⟩</a
            >
          </li>
        </ul>
      </nav>

      <div id="site-toc--inline" class="site-toc toc-collapsible toc-collapsed">
        <header class="site-toc__title">
          <p>目录</p>

          <button
            type="button"
            class="btn site-toc--button__page-top"
            aria-label="Page top"
          ></button>

          <span class="site-toc--inline__toggle toc-toggle-down"
            ><i class="material-icons">keyboard_arrow_down</i></span
          >
          <span class="site-toc--inline__toggle toc-toggle-up"
            ><i class="material-icons">keyboard_arrow_up</i></span
          >
        </header>
        <ul id="toc" class="section-nav">
          <li class="toc-entry toc-h2">
            <a href="#comments"><p>注释</p></a>
            <ul>
              <li class="toc-entry toc-h3">
                <a href="#do-format-comments-like-sentences"
                  ><p>要像句子一样来格式化注释。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#dont-use-block-comments-for-documentation"
                  ><p>不要使用块注释作用作解释说明。</p></a
                >
              </li>
            </ul>
          </li>
          <li class="toc-entry toc-h2">
            <a href="#doc-comments"><p>文档注释</p></a>
            <ul>
              <li class="toc-entry toc-h3">
                <a href="#do-use--doc-comments-to-document-members-and-types"
                  ><p>要使用 /// 文档注释来注释成员和类型。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#prefer-writing-doc-comments-for-public-apis"
                  ><p>推荐为公开发布的 API 编写文档注释。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#consider-writing-a-library-level-doc-comment"
                  ><p>考虑编写库级别（library-level）的文档注释。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#consider-writing-doc-comments-for-private-apis"
                  ><p>推荐为私有API 编写文档注释。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#do-start-doc-comments-with-a-single-sentence-summary"
                  ><p>要要在文档注释开头有一个单句总结。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a
                  href="#do-separate-the-first-sentence-of-a-doc-comment-into-its-own-paragraph"
                  ><p>要让文档注释的第一句从段落中分开。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#avoid-redundancy-with-the-surrounding-context"
                  ><p>避免与周围上下文冗余。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a
                  href="#prefer-starting-function-or-method-comments-with-third-person-verbs"
                  ><p>推荐用第三人称来开始函数或者方法的文档注释。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a
                  href="#prefer-starting-variable-getter-or-setter-comments-with-noun-phrases"
                  ><p>推荐使用名词短语来开始变量、getter、setter 的注释。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a
                  href="#prefer-starting-library-or-type-comments-with-noun-phrases"
                  ><p>推荐使用名词短语来开始库和类型注释。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#consider-including-code-samples-in-doc-comments"
                  ><p>考虑在文档注释中添加示例代码。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a
                  href="#do-use-square-brackets-in-doc-comments-to-refer-to-in-scope-identifiers"
                  ><p>要使用方括号在文档注释中引用作用域内的标识符</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a
                  href="#do-use-prose-to-explain-parameters-return-values-and-exceptions"
                  ><p>要使用散文的方式来描述参数、返回值以及异常信息。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#do-put-doc-comments-before-metadata-annotations"
                  ><p>要把注释文档放到注解之前。</p></a
                >
              </li>
            </ul>
          </li>
          <li class="toc-entry toc-h2">
            <a href="#markdown">Markdown</a>
            <ul>
              <li class="toc-entry toc-h3">
                <a href="#avoid-using-markdown-excessively"
                  ><p>避免过度使用 markdown。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#avoid-using-html-for-formatting"
                  ><p>避免使用 HTML 来格式化文字。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a href="#prefer-backtick-fences-for-code-blocks"
                  ><p>推荐使用反引号标注代码。</p></a
                >
              </li>
            </ul>
          </li>
          <li class="toc-entry toc-h2">
            <a href="#writing"><p>如何写注释</p></a>
            <ul>
              <li class="toc-entry toc-h3">
                <a href="#prefer-brevity"><p>推荐简洁.</p></a>
              </li>
              <li class="toc-entry toc-h3">
                <a
                  href="#avoid-abbreviations-and-acronyms-unless-they-are-obvious"
                  ><p>避免缩写和首字母缩写词，除非很常见。</p></a
                >
              </li>
              <li class="toc-entry toc-h3">
                <a
                  href="#prefer-using-this-instead-of-the-to-refer-to-a-members-instance"
                  ><p>推荐使用 “this” 而不是 “the” 来引用实例成员。</p></a
                >
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <p>
        你可能没有意识到，今天你很容易想出来的代码，有多么依赖你当时思路。人们不熟悉你的代码，甚至你也忘记了当时代码功能中有这样的思路。简明，扼要的注释只需花费几秒钟的时间去写，但可以让每个这样的人节约几个小时。
      </p>

      <p>
        我们知道代码应该自文档（self-documenting），并不是所有的注释都是有用的。但实际情况是，我们大多数人都没有写出尽可能多的注释。和练习一样：从技术上你<em>可以</em>做很多，但是实际上你只做了一点点。尝试着逐步提高。
      </p>

      <h2 id="comments">
        <a class="anchor" href="#comments" aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        >注释
      </h2>

      <p>下面的提示适用于不被生成在文档中的注释。</p>

      <h3 id="do-format-comments-like-sentences">
        <a
          class="anchor"
          href="#do-format-comments-like-sentences"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>要</strong> 像句子一样来格式化注释。
      </h3>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">// Not if there is nothing before it.</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_chunks</span><span class="pun">.</span><span class="pln">isEmpty</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></pre>

      <p>
        如果第一个单词不是大小写相关的标识符，则首字母要大写。使用句号，叹号或者问号结尾。所有的注释都应该这样：文档注释，单行注释，甚至
        TODO。即使它是一个句子的片段。
      </p>

      <h3 id="dont-use-block-comments-for-documentation">
        <a
          class="anchor"
          href="#dont-use-block-comments-for-documentation"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>不要</strong> 使用块注释作用作解释说明。
      </h3>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="typ">void</span><span class="pln"> greet</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Assume we have a valid name.</span><span class="pln">
  print</span><span class="pun">(</span><span class="str">'Hi, $name!'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <pre
        class="prettyprint lang-dart bad prettyprinted"
        style=""
      ><code><span class="typ">void</span><span class="pln"> greet</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">/* Assume we have a valid name. */</span><span class="pln">
  print</span><span class="pun">(</span><span class="str">'Hi, $name!'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <p>
        可以使用块注释 (<code class="language-plaintext highlighter-rouge"
          >/* ... */</code
        >) 来临时的注释掉一段代码，但是其他的所有注释都应该使用
        <code class="language-plaintext highlighter-rouge">//</code>。
      </p>

      <h2 id="doc-comments">
        <a class="anchor" href="#doc-comments" aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        >文档注释
      </h2>

      <p>
        文档注释特别有用，应为通过
        <a href="/tools/dart-doc"
          ><code class="language-plaintext highlighter-rouge">dart doc</code></a
        >
        解析这些注释可以生成
        <a href="https://api.dart.cn/stable">漂亮的文档网页</a
        >。文档注释包括所有出现在声明之前并使用
        <code class="language-plaintext highlighter-rouge">///</code>
        语法的注释，这些注释使用使用 dartdoc 检索。
      </p>

      <h3 id="do-use--doc-comments-to-document-members-and-types">
        <a
          class="anchor"
          href="#do-use--doc-comments-to-document-members-and-types"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>要</strong> 使用
        <code class="language-plaintext highlighter-rouge">///</code>
        文档注释来注释成员和类型。
      </h3>

      <p class="linter-rule">
        Linter rule:
        <a href="/tools/linter-rules#slash_for_doc_comments"
          >slash_for_doc_comments</a
        >
      </p>

      <p>使用文档注释可以让 [dartdoc][] 来为你生成代码 API 文档。</p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// The number of characters in this chunk when unsplit.</span><span class="pln">
</span><span class="typ">int</span><span class="pln"> </span><span class="kwd">get</span><span class="pln"> length </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">...</span></code></pre>

      <pre
        class="prettyprint lang-dart bad prettyprinted"
        style=""
      ><code><span class="com">// The number of characters in this chunk when unsplit.</span><span class="pln">
</span><span class="typ">int</span><span class="pln"> </span><span class="kwd">get</span><span class="pln"> length </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">...</span></code></pre>

      <p>
        由于历史原因，dartdoc 支持两种格式的文档注释：<code
          class="language-plaintext highlighter-rouge"
          >///</code
        >
        (“C# 格式”) 和
        <code class="language-plaintext highlighter-rouge">/** ... */</code>
        (“JavaDoc 格式”)。我们推荐使用
        <code class="language-plaintext highlighter-rouge">///</code>
        是因为其更加简洁。
        <code class="language-plaintext highlighter-rouge">/**</code> 和
        <code class="language-plaintext highlighter-rouge">*/</code>
        在多行注释中间添加了开头和结尾的两行多余内容。
        <code class="language-plaintext highlighter-rouge">///</code>
        在一些情况下也更加易于阅读，例如，当文档注释中包含有使用
        <code class="language-plaintext highlighter-rouge">*</code>
        标记的列表内容的时候。
      </p>

      <p>如果你现在还在使用 JavaDoc 风格格式，请考虑使用新的格式。</p>

      <h3 id="prefer-writing-doc-comments-for-public-apis">
        <a
          class="anchor"
          href="#prefer-writing-doc-comments-for-public-apis"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>推荐</strong> 为公开发布的 API 编写文档注释。
      </h3>

      <p class="linter-rule">
        Linter rules:
        <a href="/tools/linter-rules#package_api_docs">package_api_docs</a>,
        <a href="/tools/linter-rules#public_member_api_docs"
          >public_member_api_docs</a
        >
      </p>

      <p>
        不必为所有独立的库，顶级变量，类型以及成员编写文档注释。但是它们大多数应该有文档注释。
      </p>

      <h3 id="consider-writing-a-library-level-doc-comment">
        <a
          class="anchor"
          href="#consider-writing-a-library-level-doc-comment"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>考虑</strong> 编写库级别（library-level）的文档注释。
      </h3>

      <p>
        与Java等类似的语言不同，Java 中类是程序组织的唯一单元。在 Dart
        中，库本身就是一个实体，用户可以直接使用，导入及构思它。这使得<code
          class="language-plaintext highlighter-rouge"
          >库</code
        >成为一个展示文档的好地方。这样可以向读者介绍其中提供的主要概念和功能。其中可以考虑包括下列内容：
      </p>

      <ul>
        <li>
          <p>关于库用途的单句摘要。</p>
        </li>
        <li>
          <p>解释库中用到的术语。</p>
        </li>
        <li>
          <p>一些配合 API 的示例代码。</p>
        </li>
        <li>
          <p>最重要和最常用的类和函数的链接。</p>
        </li>
        <li>
          <p>和库相关领域的外部链接。</p>
        </li>
      </ul>

      <p>
        你可以通过在文件开头的
        <code class="language-plaintext highlighter-rouge">library</code>
        的上方放置 doc 注释来文档注释一个库。如果库没有
        <code class="language-plaintext highlighter-rouge">library</code>
        指令，您可以添加一个，只是挂起 doc 注释。
      </p>

      <h3 id="consider-writing-doc-comments-for-private-apis">
        <a
          class="anchor"
          href="#consider-writing-doc-comments-for-private-apis"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>推荐</strong> 为私有API 编写文档注释。
      </h3>

      <p>
        文档注释不仅仅适用于外部用户使用你库的公开 API.
        它也同样有助于理解那些私有成员，这些私有成员会被库的其他部分调用。
      </p>

      <h3 id="do-start-doc-comments-with-a-single-sentence-summary">
        <a
          class="anchor"
          href="#do-start-doc-comments-with-a-single-sentence-summary"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>要</strong> 要在文档注释开头有一个单句总结。
      </h3>

      <p>
        注释文档要以一个以用户为中心，简要的描述作为开始。通常句子片段就足够了。为读者提供足够的上下文来定位自己，并决定是否应该继续阅读，或寻找其他解决问题的方法。
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// Deletes the file at [path] from the file system.</span><span class="pln">
</span><span class="typ">void</span><span class="pln"> delete</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <pre
        class="prettyprint lang-dart bad prettyprinted"
        style=""
      ><code><span class="com">/// Depending on the state of the file system and the user's permissions,</span><span class="pln">
</span><span class="com">/// certain operations may or may not be possible. If there is no file at</span><span class="pln">
</span><span class="com">/// [path] or it can't be accessed, this function throws either [IOError]</span><span class="pln">
</span><span class="com">/// or [PermissionError], respectively. Otherwise, this deletes the file.</span><span class="pln">
</span><span class="typ">void</span><span class="pln"> delete</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <h3
        id="do-separate-the-first-sentence-of-a-doc-comment-into-its-own-paragraph"
      >
        <a
          class="anchor"
          href="#do-separate-the-first-sentence-of-a-doc-comment-into-its-own-paragraph"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>要</strong> 让文档注释的第一句从段落中分开。
      </h3>

      <p>
        在第一句之后添加一个空行，将其拆分为自己的段落。如果不止一个解释句子有用，请将其余部分放在后面的段落中。
      </p>

      <p>
        这有助于您编写一个紧凑的第一句话来总结文档。此外，像Dartdoc这样的工具使用第一段作为类和类成员列表等地方的简短摘要。
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// Deletes the file at [path].</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// Throws an [IOError] if the file could not be found. Throws a</span><span class="pln">
</span><span class="com">/// [PermissionError] if the file is present but could not be deleted.</span><span class="pln">
</span><span class="typ">void</span><span class="pln"> delete</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <pre
        class="prettyprint lang-dart bad prettyprinted"
        style=""
      ><code><span class="com">/// Deletes the file at [path]. Throws an [IOError] if the file could not</span><span class="pln">
</span><span class="com">/// be found. Throws a [PermissionError] if the file is present but could</span><span class="pln">
</span><span class="com">/// not be deleted.</span><span class="pln">
</span><span class="typ">void</span><span class="pln"> delete</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <h3 id="avoid-redundancy-with-the-surrounding-context">
        <a
          class="anchor"
          href="#avoid-redundancy-with-the-surrounding-context"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>避免</strong> 与周围上下文冗余。
      </h3>

      <p>
        阅读类的文档注释的可以清楚地看到类的名称，它实现的接口等等。当读取成员的文档时，命名和封装它的类是显而易见的。这些都不需要写在文档注释中。相反，应该专注于解释读者所<em>不知道</em>的内容。
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">RadioButtonWidget</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Widget</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">/// Sets the tooltip to [lines], which should have been word wrapped using</span><span class="pln">
  </span><span class="com">/// the current font.</span><span class="pln">
  </span><span class="typ">void</span><span class="pln"> tooltip</span><span class="pun">(</span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> lines</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <pre
        class="prettyprint lang-dart bad prettyprinted"
        style=""
      ><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">RadioButtonWidget</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">Widget</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">/// Sets the tooltip for this radio button widget to the list of strings in</span><span class="pln">
  </span><span class="com">/// [lines].</span><span class="pln">
  </span><span class="typ">void</span><span class="pln"> tooltip</span><span class="pun">(</span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> lines</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <p>
        If you really don’t have anything interesting to say that can’t be
        inferred from the declaration itself, then omit the doc comment. It’s
        better to say nothing than waste a reader’s time telling them something
        they already know.
      </p>

      <h3
        id="prefer-starting-function-or-method-comments-with-third-person-verbs"
      >
        <a
          class="anchor"
          href="#prefer-starting-function-or-method-comments-with-third-person-verbs"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>推荐</strong> 用第三人称来开始函数或者方法的文档注释。
      </h3>

      <p>注释应该关注于代码 <em>所实现的</em> 功能。</p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// Returns `true` if every element satisfies the [predicate].</span><span class="pln">
</span><span class="typ">bool</span><span class="pln"> all</span><span class="pun">(</span><span class="typ">bool</span><span class="pln"> predicate</span><span class="pun">(</span><span class="typ">T</span><span class="pln"> element</span><span class="pun">))</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">...</span><span class="pln">

</span><span class="com">/// Starts the stopwatch if not already running.</span><span class="pln">
</span><span class="typ">void</span><span class="pln"> start</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <h3
        id="prefer-starting-variable-getter-or-setter-comments-with-noun-phrases"
      >
        <a
          class="anchor"
          href="#prefer-starting-variable-getter-or-setter-comments-with-noun-phrases"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>推荐</strong> 使用名词短语来开始变量、getter、setter 的注释。
      </h3>

      <p>
        注释文档应该表述这个属性<em>是</em>什么。虽然 getter
        函数会做些计算，但是也要求这样，调用者关心的是其<em>结果</em>而不是如何计算的。
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// The current day of the week, where `0` is Sunday.</span><span class="pln">
</span><span class="typ">int</span><span class="pln"> weekday</span><span class="pun">;</span><span class="pln">

</span><span class="com">/// The number of checked buttons on the page.</span><span class="pln">
</span><span class="typ">int</span><span class="pln"> </span><span class="kwd">get</span><span class="pln"> checkedCount </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">...</span></code></pre>

      <p>
        如果一个属性同时包含 getter 和 setter，请只为其中一个添加文档。 Dartdoc
        会将 getter 和 setter
        作为同一个属性进行处理，而如果它们都包含文档注释，setter
        的文档将被忽略。
      </p>

      <h3 id="prefer-starting-library-or-type-comments-with-noun-phrases">
        <a
          class="anchor"
          href="#prefer-starting-library-or-type-comments-with-noun-phrases"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>推荐</strong> 使用名词短语来开始库和类型注释。
      </h3>

      <p>
        在程序中，类的注释通常是最重要的文档。类的注释描述了类型的不变性、介绍其使用的术语、提供类成员使用的上下文信息。为类提供一些注释可以让其他类成员的注释更易于理解和编写。
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// A chunk of non-breaking output text terminated by a hard or soft newline.</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// ...</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Chunk</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">}</span></code></pre>

      <h3 id="consider-including-code-samples-in-doc-comments">
        <a
          class="anchor"
          href="#consider-including-code-samples-in-doc-comments"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>考虑</strong> 在文档注释中添加示例代码。
      </h3>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// Returns the lesser of two numbers.</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// ```dart</span><span class="pln">
</span><span class="com">/// min(5, 3) == 3</span><span class="pln">
</span><span class="com">/// ```</span><span class="pln">
</span><span class="typ">num</span><span class="pln"> min</span><span class="pun">(</span><span class="typ">num</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> </span><span class="typ">num</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">...</span></code></pre>

      <p>
        人类非常擅长从示例中抽象出实质内容，所以即使提供一行最简单的示例代码都可以让
        API 更易于理解。
      </p>

      <h3
        id="do-use-square-brackets-in-doc-comments-to-refer-to-in-scope-identifiers"
      >
        <a
          class="anchor"
          href="#do-use-square-brackets-in-doc-comments-to-refer-to-in-scope-identifiers"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>要</strong> 使用方括号在文档注释中引用作用域内的标识符
      </h3>

      <p class="linter-rule">
        Linter rule:
        <a href="/tools/linter-rules#comment_references">comment_references</a>
      </p>

      <p>
        如果给变量，方法，或类型等名称加上方括号，则 dartdoc
        会查找名称并链接到相关的 API
        文档。括号是可选的，但是当你在引用一个方法或者构造函数时，可以让注释更清晰。
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// Throws a [StateError] if ...</span><span class="pln">
</span><span class="com">/// similar to [anotherMethod()], but ...</span></code></pre>

      <p>要链接到特定类的成员，请使用以点号分割的类名和成员名：</p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// Similar to [Duration.inDays], but handles fractional days.</span></code></pre>

      <p>
        点语法也可用于引用命名构造函数。对于未命名的构造函数，在类名后面加上
        <code class="language-plaintext highlighter-rouge">.new</code>
        来使用默认构造：
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// To create a point, call [Point.new] or use [Point.polar] to ...</span></code></pre>

      <h3 id="do-use-prose-to-explain-parameters-return-values-and-exceptions">
        <a
          class="anchor"
          href="#do-use-prose-to-explain-parameters-return-values-and-exceptions"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>要</strong> 使用散文的方式来描述参数、返回值以及异常信息。
      </h3>

      <p>其他语言使用各种标签和额外的注释来描述参数和返回值。</p>

      <pre
        class="prettyprint lang-dart bad prettyprinted"
        style=""
      ><code><span class="com">/// Defines a flag with the given name and abbreviation.</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// @param name The name of the flag.</span><span class="pln">
</span><span class="com">/// @param abbr The abbreviation for the flag.</span><span class="pln">
</span><span class="com">/// @returns The new flag.</span><span class="pln">
</span><span class="com">/// @throws ArgumentError If there is already an option with</span><span class="pln">
</span><span class="com">///     the given name or abbreviation.</span><span class="pln">
</span><span class="typ">Flag</span><span class="pln"> addFlag</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> abbr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">...</span></code></pre>

      <p>
        The convention in Dart is to integrate that into the description of the
        method and highlight parameters using square brackets.
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// Defines a flag.</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// Throws an [ArgumentError] if there is already an option named [name] or</span><span class="pln">
</span><span class="com">/// there is already an option using abbreviation [abbr]. Returns the new flag.</span><span class="pln">
</span><span class="typ">Flag</span><span class="pln"> addFlag</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> abbr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">...</span></code></pre>

      <h3 id="do-put-doc-comments-before-metadata-annotations">
        <a
          class="anchor"
          href="#do-put-doc-comments-before-metadata-annotations"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>要</strong> 把注释文档放到注解之前。
      </h3>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// A button that can be flipped on and off.</span><span class="pln">
@</span><span class="typ">Component</span><span class="pun">(</span><span class="pln">selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'toggle'</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ToggleComponent</span><span class="pln"> </span><span class="pun">{}</span></code></pre>

      <pre
        class="prettyprint lang-dart bad prettyprinted"
        style=""
      ><code><span class="pln">@</span><span class="typ">Component</span><span class="pun">(</span><span class="pln">selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'toggle'</span><span class="pun">)</span><span class="pln">
</span><span class="com">/// A button that can be flipped on and off.</span><span class="pln">
</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ToggleComponent</span><span class="pln"> </span><span class="pun">{}</span></code></pre>

      <h2 id="markdown">
        <a class="anchor" href="#markdown" aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        >Markdown
      </h2>

      <p>
        文档注释中允许使用大多数
        <a href="https://daringfireball.net/projects/markdown/">markdown</a>
        格式，并且 dartdoc 会根据
        <a href="https://pub.flutter-io.cn/packages/markdown"
          >markdown package.</a
        >
        进行解析。
      </p>

      <p>
        有很多指南已经向您介绍Markdown。它普遍受欢迎是我们选择它的原因。这里只是一个简单的例子，让您了解所支持的内容：
      </p>

      <pre
        class="prettyprint lang-dart prettyprinted"
        style=""
      ><code><span class="com">/// This is a paragraph of regular text.</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// This sentence has *two* _emphasized_ words (italics) and **two**</span><span class="pln">
</span><span class="com">/// __strong__ ones (bold).</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// A blank line creates a separate paragraph. It has some `inline code`</span><span class="pln">
</span><span class="com">/// delimited using backticks.</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// * Unordered lists.</span><span class="pln">
</span><span class="com">/// * Look like ASCII bullet lists.</span><span class="pln">
</span><span class="com">/// * You can also use `-` or `+`.</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// 1. Numbered lists.</span><span class="pln">
</span><span class="com">/// 2. Are, well, numbered.</span><span class="pln">
</span><span class="com">/// 1. But the values don't matter.</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">///     * You can nest lists too.</span><span class="pln">
</span><span class="com">///     * They must be indented at least 4 spaces.</span><span class="pln">
</span><span class="com">///     * (Well, 5 including the space after `///`.)</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// Code blocks are fenced in triple backticks:</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// ```dart</span><span class="pln">
</span><span class="com">/// this.code</span><span class="pln">
</span><span class="com">///     .will</span><span class="pln">
</span><span class="com">///     .retain(its, formatting);</span><span class="pln">
</span><span class="com">/// ```</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// The code language (for syntax highlighting) defaults to Dart. You can</span><span class="pln">
</span><span class="com">/// specify it by putting the name of the language after the opening backticks:</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// ```html</span><span class="pln">
</span><span class="com">/// &lt;h1&gt;HTML is magical!&lt;/h1&gt;</span><span class="pln">
</span><span class="com">/// ```</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// Links can be:</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// * https://www.just-a-bare-url.com</span><span class="pln">
</span><span class="com">/// * [with the URL inline](https://google.com)</span><span class="pln">
</span><span class="com">/// * [or separated out][ref link]</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// [ref link]: https://google.com</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// # A Header</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// ## A subheader</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// ### A subsubheader</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// #### If you need this many levels of headers, you're doing it wrong</span></code></pre>

      <h3 id="avoid-using-markdown-excessively">
        <a
          class="anchor"
          href="#avoid-using-markdown-excessively"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>避免</strong> 过度使用 markdown。
      </h3>

      <p>
        如果有格式缺少的问题，格式化已有的内容来阐明你的想法，而不是替换它，内容才是最重要的。
      </p>

      <h3 id="avoid-using-html-for-formatting">
        <a
          class="anchor"
          href="#avoid-using-html-for-formatting"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>避免</strong> 使用 HTML 来格式化文字。
      </h3>

      <p>
        例如表格，在极少数情况下它<em>可能</em>很有用。但几乎所有的情况下，在
        Markdown 中表格的表示都非常复杂。这种情况下最好不要使用表格。
      </p>

      <h3 id="prefer-backtick-fences-for-code-blocks">
        <a
          class="anchor"
          href="#prefer-backtick-fences-for-code-blocks"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>推荐</strong> 使用反引号标注代码。
      </h3>

      <p>
        Markdown
        有两种方式来标注一块代码：每行代码缩进4个空格，或者在代码上下各标注三个反引号。当缩进已经包含其他意义，或者代码段自身就包含缩进时，在
        Markdown 中使用前一种语法就显得很脆弱。
      </p>

      <p>
        反引号语法避免了那些缩进的问题，而且能够指出代码的语言类型，内联代码同样可以使用反引号标注。
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="com">/// You can use [CodeBlockExample] like this:</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">/// ```dart</span><span class="pln">
</span><span class="com">/// var example = CodeBlockExample();</span><span class="pln">
</span><span class="com">/// print(example.isItGreat); // "Yes."</span><span class="pln">
</span><span class="com">/// ```</span></code></pre>

      <pre
        class="prettyprint lang-dart bad prettyprinted"
        style=""
      ><code><span class="com">/// You can use [CodeBlockExample] like this:</span><span class="pln">
</span><span class="com">///</span><span class="pln">
</span><span class="com">///     var example = CodeBlockExample();</span><span class="pln">
</span><span class="com">///     print(example.isItGreat); // "Yes."</span></code></pre>

      <h2 id="writing">
        <a class="anchor" href="#writing" aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        >如何写注释
      </h2>

      <p>
        虽然我们认为我们是程序员，但是大部分情况下源代码中的内容都是为了让人类更易于阅读和理解代码。对于任何编程语言，都值得努力练习来提高熟练程度。
      </p>

      <p>
        This section lists a few guidelines for our docs. You can learn more
        about best practices for technical writing, in general, from articles
        such as
        <a href="https://en.wikiversity.org/wiki/Technical_writing_style"
          >Technical writing style</a
        >.
      </p>

      <h3 id="prefer-brevity">
        <a class="anchor" href="#prefer-brevity" aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>推荐</strong> 简洁.
      </h3>

      <p>要清晰和准确，并且简洁。</p>

      <h3 id="avoid-abbreviations-and-acronyms-unless-they-are-obvious">
        <a
          class="anchor"
          href="#avoid-abbreviations-and-acronyms-unless-they-are-obvious"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>避免</strong> 缩写和首字母缩写词，除非很常见。
      </h3>

      <p>
        很多人都不知道 “i.e.”、 “e.g.” 和 “et. al.”
        的意思。你所在领域的首字母缩略词对于其他人可能并不了解。
      </p>

      <h3 id="prefer-using-this-instead-of-the-to-refer-to-a-members-instance">
        <a
          class="anchor"
          href="#prefer-using-this-instead-of-the-to-refer-to-a-members-instance"
          aria-hidden="true"
          ><span class="octicon octicon-link"></span></a
        ><strong>推荐</strong> 使用 “this” 而不是 “the” 来引用实例成员。
      </h3>

      <p>
        注释中提及到类的成员，通常是指被调用的对象实例的成员。使用 “the”
        可能会导致混淆。
      </p>

      <pre
        class="prettyprint lang-dart good prettyprinted"
        style=""
      ><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">Box</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">/// The value this wraps.</span><span class="pln">
  </span><span class="typ">Object</span><span class="pun">?</span><span class="pln"> _value</span><span class="pun">;</span><span class="pln">

  </span><span class="com">/// True if this box contains a value.</span><span class="pln">
  </span><span class="typ">bool</span><span class="pln"> </span><span class="kwd">get</span><span class="pln"> hasValue </span><span class="pun">=&gt;</span><span class="pln"> _value </span><span class="pun">!=</span><span class="pln"> </span><span class="typ">null</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>

      <nav id="subnav">
        <ul>
          <li class="previous">
            <a href="/guides/language/effective-dart/style"
              >⟨&nbsp;&nbsp;代码风格</a
            >
          </li>
          <li class="next">
            <a href="/guides/language/effective-dart/usage"
              >用法示例&nbsp;&nbsp;⟩</a
            >
          </li>
        </ul>
      </nav>
    </div>
  </body>
</html>
